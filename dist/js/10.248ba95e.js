(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"122c":function(t,i,n){},8235:function(t,i,n){"use strict";n.r(i);var s,e,o,h,r,a=function(){var t=this,i=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",{staticClass:"canvas-container"}),n("canvas",{attrs:{id:"tearCloth"}})])}],c=3,u=20,l=5,y=1200,f=70,w=100,v=20,x=8,d=60;window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var m={down:!1,button:1,x:0,y:0,px:0,py:0},g=function(t,i){this.x=t,this.y=i,this.px=t,this.py=i,this.vx=0,this.vy=0,this.pin_x=null,this.pin_y=null,this.constraints=[]};g.prototype.update=function(t){if(m.down){var i=this.x-m.x,n=this.y-m.y,s=Math.sqrt(i*i+n*n);1==m.button?s<u&&(this.px=this.x-1.8*(m.x-m.px),this.py=this.y-1.8*(m.y-m.py)):s<l&&(this.constraints=[])}this.add_force(0,y),t*=t;var e=this.x+.99*(this.x-this.px)+this.vx/2*t,o=this.y+.99*(this.y-this.py)+this.vy/2*t;this.px=this.x,this.py=this.y,this.x=e,this.y=o,this.vy=this.vx=0},g.prototype.draw=function(){if(!(this.constraints.length<=0)){var t=this.constraints.length;while(t--)this.constraints[t].draw()}},g.prototype.resolve_constraints=function(){if(null!=this.pin_x&&null!=this.pin_y)return this.x=this.pin_x,void(this.y=this.pin_y);var t=this.constraints.length;while(t--)this.constraints[t].resolve();this.x>h?this.x=2*h-this.x:this.x<1&&(this.x=2-this.x),this.y>r?this.y=2*r-this.y:this.y<1&&(this.y=2-this.y)},g.prototype.attach=function(t){this.constraints.push(new _(this,t))},g.prototype.remove_constraint=function(t){var i=this.constraints.length;while(i--)this.constraints[i]==t&&this.constraints.splice(i,1)},g.prototype.add_force=function(t,i){this.vx+=t,this.vy+=i},g.prototype.pin=function(t,i){this.pin_x=t,this.pin_y=i};var _=function(t,i){this.p1=t,this.p2=i,this.length=x};_.prototype.resolve=function(){var t=this.p1.x-this.p2.x,i=this.p1.y-this.p2.y,n=Math.sqrt(t*t+i*i),s=(this.length-n)/n;n>d&&this.p1.remove_constraint(this);var e=t*s*.5,o=i*s*.5;this.p1.x+=e,this.p1.y+=o,this.p2.x-=e,this.p2.y-=o},_.prototype.draw=function(){e.moveTo(this.p1.x,this.p1.y),e.lineTo(this.p2.x,this.p2.y)};var b=function(){this.points=[];for(var t=s.width/2-w*x/2,i=0;i<=f;i++)for(var n=0;n<=w;n++){var e=new g(t+n*x,v+i*x);0!=n&&e.attach(this.points[this.points.length-1]),0==i&&e.pin(e.x,e.y),0!=i&&e.attach(this.points[n+(i-1)*(w+1)]),this.points.push(e)}};function q(){e.clearRect(0,0,s.width,s.height),o.update(),o.draw(),window.requestAnimFrame(q)}function A(){s.onmousedown=function(t){m.button=t.which,m.px=m.x,m.py=m.y;var i=s.getBoundingClientRect();m.x=t.clientX-i.left,m.y=t.clientY-i.top,m.down=!0,t.preventDefault()},s.onmouseup=function(t){m.down=!1,t.preventDefault()},s.onmousemove=function(t){m.px=m.x,m.py=m.y;var i=s.getBoundingClientRect();m.x=t.clientX-i.left,m.y=t.clientY-i.top,t.preventDefault()},s.oncontextmenu=function(t){t.preventDefault()},h=s.width-1,r=s.height-1,e.strokeStyle="#fff",o=new b,q()}b.prototype.update=function(){var t=c;while(t--){var i=this.points.length;while(i--)this.points[i].resolve_constraints()}t=this.points.length;while(t--)this.points[t].update(.016)},b.prototype.draw=function(){e.beginPath();var t=o.points.length;while(t--)o.points[t].draw();e.stroke()};var F={data:function(){return{}},mounted:function(){s=document.getElementById("tearCloth"),e=s.getContext("2d"),s.width=800,s.height=800,A()},methods:{onSubmit:function(){this.$message.success("提交成功！")}}},R=F,C=(n("f9a4"),n("2877")),k=Object(C["a"])(R,a,p,!1,null,"0e4c4aa7",null);i["default"]=k.exports},f9a4:function(t,i,n){"use strict";var s=n("122c"),e=n.n(s);e.a}}]);
//# sourceMappingURL=10.248ba95e.js.map