(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{3601:function(t,s,i){"use strict";var a=i("374d"),e=i.n(a);e.a},"374d":function(t,s,i){},a07e:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"content"},[i("div",{staticClass:"song-container"},[i("div",{staticClass:"el-body"},[i("audio",{ref:"player",attrs:{src:t.cSong.src}}),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"song-cover-box"},[i("div",{staticClass:"song-cover",attrs:{"data-rotate":"0"}},[i("img",{staticClass:"cover-img",attrs:{src:t.cSong.cover}}),i("span",{staticClass:"cover-bg"})]),i("div",{staticClass:"round-top",class:{paused:t.player.paused}})])]),i("el-col",{attrs:{span:12}},[i("div",[i("h3",{staticClass:"song-title"},[t._v("\n              "+t._s(t.cSong.name)+"\n            ")]),i("div",{staticClass:"song-info"},[t._v("\n              歌手："+t._s(t.cSong.singer)+"  专辑："+t._s(t.cSong.album)+"\n            ")]),i("div",{staticClass:"lrc-wrap"},t._l(t.player.cLrc,(function(s,a){return i("p",{key:a,staticClass:"lrc-p",attrs:{"data-lrc":s.time}},[t._v("\n                "+t._s(s.word)+"\n              ")])})),0)])])],1)],1),i("div",{staticClass:"n-songtb"},[i("div",{staticClass:"u-title"},[t._m(0),i("span",{staticClass:"sub"},[t._v(t._s(t.songList.length)+"首歌")])]),i("div",{staticClass:"j-flag"},[i("table",{staticClass:"m-table"},[t._m(1),i("tbody",t._l(t.songList,(function(s,a){return i("tr",{key:a},[i("td",{staticClass:"left"},[i("div",{staticClass:"hd "},[i("span",{staticClass:"ply",on:{click:function(s){return t.toggleSong(a)}}},[t._v("播放")]),i("span",{staticClass:"num"},[t._v(t._s("0"+(a+1)))])])]),i("td",{},[i("div",{staticClass:"text"},[t._v("\n                  "+t._s(s.name)+"\n                ")])]),i("td",{},[i("div",{staticClass:"text"},[t._v("\n                  "+t._s(s.duration)+"\n                ")])]),i("td",{},[i("div",{staticClass:"text"},[t._v("\n                  "+t._s(s.singer)+"\n                ")])]),i("td",{},[i("div",{staticClass:"text"},[t._v("\n                  "+t._s(s.album)+"\n                ")])])])})),0)])])])]),i("div",{staticClass:"song-control"},[i("div",{staticClass:"control-play"},[i("span",{staticClass:"control-icon",on:{click:t.togglePrev}},[i("i",{staticClass:"el-icon-app-player-prev"})]),i("span",{staticClass:"control-icon",on:{click:t.toggleMusicPlayer}},[t.player.paused?i("i",{staticClass:"el-icon-app-player-paused"}):i("i",{staticClass:"el-icon-app-player-play"})]),i("span",{staticClass:"control-icon",on:{click:t.toggleNext}},[i("i",{staticClass:"el-icon-app-player-next"})])]),i("div",{staticClass:"control-progress"},[i("span",{staticClass:"time-start"},[t._v(t._s(t.player.cTime))]),i("span",{staticClass:"time-end"},[t._v(t._s(t.cSong.duration))]),i("div",{staticClass:"bar-bg",on:{click:t.toggleProgress}},[i("div",{staticClass:"bar-current",style:{width:t.player.cProcess}})])]),i("div",{staticClass:"control-volumn"},[i("span",{staticClass:"volumn-icon",on:{click:t.toggleMuted}},[t.player.muted?i("i",{staticClass:"el-icon-app-player-muted"}):i("i",{staticClass:"el-icon-app-player-voice"})]),i("div",{staticClass:"bar-bg",on:{click:t.toggleVolumn}},[i("div",{staticClass:"bar-current",style:{width:t.player.cVolumn}})])])])])},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("h3",[i("span",{staticClass:"f-ff2"},[t._v("歌曲列表")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("thead",[i("tr",[i("th",{staticClass:"w1"},[i("div",{staticClass:"wp"},[t._v("\n                  #\n                ")])]),i("th",[i("div",{staticClass:"wp"},[t._v("\n                  歌曲标题\n                ")])]),i("th",{staticClass:"w2"},[i("div",{staticClass:"wp"},[t._v("\n                  时长\n                ")])]),i("th",{staticClass:"w3"},[i("div",{staticClass:"wp"},[t._v("\n                  歌手\n                ")])]),i("th",{staticClass:"w4"},[i("div",{staticClass:"wp"},[t._v("\n                  专辑\n                ")])])])])}],c=i("6b6c"),n=window.$,l=null,r=0,o=0,u={data:function(){return{songList:[{id:"1",name:"莉莉安",singer:"宋冬野",album:"安和桥北",cover:"/public/music/lilian.jpg",src:"/public/music/宋冬野 - 莉莉安.mp3",lrc:"/public/music/宋冬野 - 莉莉安.lrc",duration:"04:13"},{id:"2",name:"山丘",singer:"李宗盛",album:"山丘",cover:"/public/images/mao.jpg",src:"/public/music/李宗盛 - 山丘.mp3",lrc:"/public/music/李宗盛 - 山丘.lrc",duration:"05:49"},{id:"3",name:"煎熬",singer:"李佳薇",album:"感谢爱人",cover:"/public/music/jianao.jpg",src:"/public/music/李佳薇 - 煎熬.mp3",lrc:"/public/music/李佳薇 - 煎熬.lrc",duration:"04:22"},{id:"4",name:"漂洋过海来看你",singer:"刘明湘",album:"我不要再比了",cover:"/public/music/piao.jpg",src:"/public/music/刘明湘 - 漂洋过海来看你.mp3",lrc:"/public/music/刘明湘 - 漂洋过海来看你.lrc",duration:"03:17"},{id:"5",name:"把悲伤留给自己",singer:"陈升",album:"私奔",cover:"/public/music/lonely.jpg",src:"/public/music/陈升 - 把悲伤留给自己.mp3",lrc:"/public/music/陈升 - 把悲伤留给自己.lrc",duration:"04:38"},{id:"6",name:"青花瓷",singer:"周杰伦",album:"我很忙",cover:"/public/music/jay.jpg",src:"/public/music/青花瓷 - 周杰伦.mp3",lrc:"/public/music/青花瓷 - 周杰伦.lrc",duration:"03:59"},{id:"7",name:"以父之名",singer:"周杰伦",album:"叶惠美",cover:"/public/music/jay.jpg",src:"/public/music/周杰伦 - 以父之名.m4a",lrc:"/public/music/周杰伦 - 以父之名.lrc",duration:"05:42"},{id:"8",name:"半岛铁盒",singer:"周杰伦",album:"八度空间",cover:"/public/music/jay.jpg",src:"/public/music/周杰伦 - 半岛铁盒.mp3",lrc:"/public/music/周杰伦 - 半岛铁盒.lrc",duration:"05:17"}],player:{paused:!0,muted:!1,cTime:"00:00",cProcess:"0%",cVolumn:"100%",cLrc:[]},index:0,cSong:{}}},computed:{},mounted:function(){var t=this;l=this.$refs.player,l.addEventListener("canplaythrough",(function(){try{l.play(),t.player.paused=!1}catch(s){console.log(s)}t.updateState()}),!1),l.addEventListener("ended",(function(){t.toggleNext()}),!1),this.toggleSong(this.index)},beforeDestroy:function(){l.pause(),l=null},methods:{getLrc:function(){var t=this;c["a"].get(this.cSong.lrc).then((function(s){var i=[],a=s.split("[");a.splice(0,1),a.forEach((function(t){var s=t.split("]");i.push({time:s[0],word:s[1]})})),t.player.cLrc=i}))},toggleMusicPlayer:function(){l.paused?(l.play(),this.player.paused=!1,this.updateState()):(l.pause(),this.player.paused=!0)},togglePrev:function(){var t=this.index-1;t>-1?this.toggleSong(t):this.toggleSong(this.songList.length-1)},toggleNext:function(){var t=this.index+1;t<this.songList.length?this.toggleSong(t):this.toggleSong(0)},updateState:function(){var t=this;clearTimeout(r),clearTimeout(o);var s=0,i=t.player.cLrc,a=n(".lrc-wrap"),e=a.height(),c=n(".song-cover");function u(){for(var c=t.player.cTime,l=0,r=i.length;l<r;l++)if(c>i[l].time&&(l===r-1||c<i[l+1].time)){if(s===l)return;s=l;break}var o=n(".lrc-p").eq(s);o.addClass("active").siblings(".active").removeClass("active");var u=o.height()*s;u<e/2?a.animate({scrollTop:0}):a.animate({scrollTop:u-e/2})}function p(t){return t<10?"0"+t:t}function d(t){var s=~~t,i=~~(s/60);return s-=60*i,p(i)+":"+p(s)}t.cSong.duration=d(l.duration);var g=function s(){l.paused||(t.player.cTime=d(l.currentTime),t.player.cProcess=100*(l.currentTime/l.duration).toFixed(4)+"%",u(),r=setTimeout(s,300))};g();var m=function t(){if(!l.paused){var s=c.data("rotate");s=1+~~s,360===s&&(s=0),c.css({webkitTransform:"rotate3d(0, 0, 1, "+s+"deg)",transform:"rotate3d(0, 0, 1, "+s+"deg)"}).data("rotate",s),o=setTimeout(t,50)}};m()},toggleSong:function(t){this.index=t,this.cSong=this.songList[this.index],l.src=this.cSong.src,l.load(),this.initState()},toggleProgress:function(t){var s=t.offsetX,i=document.querySelector(".control-progress>.bar-bg").offsetWidth,a=(s/i).toFixed(4);l.currentTime=l.duration*a,this.player.cProcess=100*a+"%"},toggleVolumn:function(t){var s=t.offsetX,i=document.querySelector(".control-volumn>.bar-bg").offsetWidth,a=(s/i).toFixed(4);l.volume=a,this.player.cVolumn=100*a+"%",this.player.muted=l.muted=!1},toggleMuted:function(){l.muted?(this.player.muted=l.muted=!1,document.querySelector(".control-volumn>.bar-bg>.bar-current").style.width=100*l.volume+"%"):(this.player.muted=l.muted=!0,document.querySelector(".control-volumn>.bar-bg>.bar-current").style.width="0%")},initState:function(){this.player.paused=!0,this.player.cTime="00:00",this.player.cProcess="0%",this.getLrc()}}},p=u,d=(i("3601"),i("2877")),g=Object(d["a"])(p,a,e,!1,null,"27f42d3c",null);s["default"]=g.exports}}]);
//# sourceMappingURL=11.fe4f0cea.js.map