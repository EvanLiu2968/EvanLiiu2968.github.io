webpackJsonp([2],{491:function(t,e,a){a(547);var s=a(130)(a(511),a(537),"data-v-2e82f39a",null);t.exports=s.exports},498:function(t,e,a){function s(){}function i(t,e,a){function i(){c.parentNode&&c.parentNode.removeChild(c),window[d]=s,l&&clearTimeout(l)}function o(){window[d]&&i()}"function"==typeof e&&(a=e,e={}),e||(e={});var c,l,u=e.prefix||"__jp",d=e.name||u+r++,v=e.param||"callback",p=null!=e.timeout?e.timeout:6e4,f=encodeURIComponent,g=document.getElementsByTagName("script")[0]||document.head;return p&&(l=setTimeout(function(){i(),a&&a(new Error("Timeout"))},p)),window[d]=function(t){n("jsonp got",t),i(),a&&a(null,t)},t+=(~t.indexOf("?")?"&":"?")+v+"="+f(d),t=t.replace("?&","?"),n('jsonp req "%s"',t),c=document.createElement("script"),c.src=t,g.parentNode.insertBefore(c,g),o}var n=a(499)("jsonp");t.exports=i;var r=0},499:function(t,e,a){(function(s){function i(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function n(t){var a=this.useColors;if(t[0]=(a?"%c":"")+this.namespace+(a?" %c":" ")+t[0]+(a?"%c ":" ")+"+"+e.humanize(this.diff),a){var s="color: "+this.color;t.splice(1,0,s,"color: inherit");var i=0,n=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(n=i))}),t.splice(n,0,s)}}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==s&&"env"in s&&(t=a.i({NODE_ENV:"production"}).DEBUG),t}e=t.exports=a(500),e.log=r,e.formatArgs=n,e.save=o,e.load=c,e.useColors=i,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,a(131))},500:function(t,e,a){function s(t){var a,s=0;for(a in t)s=(s<<5)-s+t.charCodeAt(a),s|=0;return e.colors[Math.abs(s)%e.colors.length]}function i(t){function a(){if(a.enabled){var t=a,s=+new Date,i=s-(l||s);t.diff=i,t.prev=l,t.curr=s,l=s;for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];n[0]=e.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var o=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(a,s){if("%%"===a)return a;o++;var i=e.formatters[s];if("function"==typeof i){var r=n[o];a=i.call(t,r),n.splice(o,1),o--}return a}),e.formatArgs.call(t,n);(a.log||e.log||console.log.bind(console)).apply(t,n)}}return a.namespace=t,a.enabled=e.enabled(t),a.useColors=e.useColors(),a.color=s(t),"function"==typeof e.init&&e.init(a),a}function n(t){e.save(t),e.names=[],e.skips=[];for(var a=(t||"").split(/[\s,]+/),s=a.length,i=0;i<s;i++)a[i]&&(t=a[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function r(){e.enable("")}function o(t){var a,s;for(a=0,s=e.skips.length;a<s;a++)if(e.skips[a].test(t))return!1;for(a=0,s=e.names.length;a<s;a++)if(e.names[a].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i.debug=i.default=i,e.coerce=c,e.disable=r,e.enable=n,e.enabled=o,e.humanize=a(501),e.names=[],e.skips=[],e.formatters={};var l},501:function(t,e){function a(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*u;case"days":case"day":case"d":return a*l;case"hours":case"hour":case"hrs":case"hr":case"h":return a*c;case"minutes":case"minute":case"mins":case"min":case"m":return a*o;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function s(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=o?Math.round(t/o)+"m":t>=r?Math.round(t/r)+"s":t+"ms"}function i(t){return n(t,l,"day")||n(t,c,"hour")||n(t,o,"minute")||n(t,r,"second")||t+" ms"}function n(t,e,a){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+a:Math.ceil(t/e)+" "+a+"s"}var r=1e3,o=60*r,c=60*o,l=24*c,u=365.25*l;t.exports=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return a(t);if("number"===n&&!1===isNaN(t))return e.long?i(t):s(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},502:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(498),i=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default={name:"movieSearch",data:function(){return{searchText:"",searchListShow:!1,searchList:[],searchPagination:{currentPage:1,pageSize:10,total:0},searchLoading:!1}},methods:{searchMovie:function(){var t=this,e=this.searchText;if(""==e)return this.$message({type:"error",message:"请输入电影或人名关键字！"}),void this.hideSearchList();this.searchListShow=!0,this.searchLoading=!0;var a=(this.searchPagination.currentPage-1)*this.searchPagination.pageSize,s=this.searchPagination.pageSize;(0,i.default)("https://api.douban.com/v2/movie/search?q="+e+"&start="+a+"&count="+s,null,function(e,a){e?t.$message({type:"error",message:e.message}):(t.searchList=a.subjects,t.searchPagination.total=a.total),t.searchLoading=!1})},hideSearchList:function(){this.searchListShow=!1,this.searchPagination.currentPage=1,this.searchPagination.total=0,this.searchList=[]},searchPageChange:function(t){this.searchPagination.currentPage=t,this.searchMovie()}}}},503:function(t,e,a){e=t.exports=a(188)(),e.push([t.i,".search-list[data-v-39697e02]{margin:3px 0 10px;padding:0;list-style:none;color:#324057;font-size:16px;background:#fff;border-radius:3px;border:1px solid #d3dce6;box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.12)}.search-list>li[data-v-39697e02]{border-bottom:1px solid #e5e9f2}.search-list>li[data-v-39697e02]:last-child{border-bottom:0}.search-list>li>a[data-v-39697e02]{position:relative;display:block;padding:6px 56px 6px 10px;color:#324057;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-orient:vertical;-webkit-line-clamp:1}.search-list>li>a[data-v-39697e02]:hover{background:#eff2f7}.search-list>li>a .original-title[data-v-39697e02]{margin-left:10px;font-size:80%;color:#99a9bf}.search-list>li>a .year[data-v-39697e02]{position:absolute;top:6px;right:10px;color:#8492a6}",""])},504:function(t,e,a){a(506);var s=a(130)(a(502),a(505),"data-v-39697e02",null);t.exports=s.exports},505:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{position:"absolute",top:"15px",right:"25px",width:"300px","z-index":"99"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入电影或人名",icon:"search","on-icon-click":t.searchMovie},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.searchMovie(e)}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),t.searchListShow?a("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.searchLoading,expression:"searchLoading"}],staticClass:"search-list"},[t._l(t.searchList,function(e){return a("li",[a("router-link",{attrs:{to:{name:"movie/detail",params:{id:e.id}}}},[a("span",{},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"original-title"},[t._v(t._s(e.original_title))]),t._v(" "),a("span",{staticClass:"year"},[t._v(t._s(e.year))])])],1)}),t._v(" "),0===t.searchList.length?a("li",[a("a",{staticClass:"text-center"},[t.searchLoading?[t._v("\n\t\t\t\t\t\t搜索中\n\t\t\t\t\t")]:[t._v("\n\t\t\t\t\t\t没有搜索到结果\n\t\t\t\t\t")]],2)]):a("li",{staticClass:"text-center"},[a("el-pagination",{attrs:{small:"",layout:"prev, pager, next","current-page":t.searchPagination.currentPage,"page-size":t.searchPagination.pageSize,total:t.searchPagination.total},on:{"current-change":t.searchPageChange}})],1),t._v(" "),a("li",[a("a",{staticClass:"text-center",attrs:{role:"button"},on:{click:t.hideSearchList}},[t._v("关闭搜索栏")])])],2):t._e()],1)])},staticRenderFns:[]}},506:function(t,e,a){var s=a(503);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(189)("6b0730db",s,!0)},511:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(498),n=s(i),r=a(504),o=s(r);e.default={components:{movieSearch:o.default},data:function(){return{subject:{},errorMsgShow:!1,loading:!1}},computed:{bilibiliURL:function(){return"http://search.bilibili.com/all?keyword="+this.subject.title+"&page=1&duration=4&tids_1=23"}},methods:{},beforeMount:function(){var t=this,e=this.$route.params.id;if(!e)return void(this.errorMsgShow=!0);this.loading=!0,(0,n.default)("https://api.douban.com/v2/movie/subject/"+e,null,function(e,a){e?(t.loading=!1,t.errorMsgShow=!0,console.error(e.message)):(t.loading=!1,5e3==a.code?t.errorMsgShow=!0:t.subject=a)})}}},525:function(t,e,a){e=t.exports=a(188)(),e.push([t.i,".movie-detail-title[data-v-2e82f39a]{font-size:20px}.movie-summary-title[data-v-2e82f39a]{font-size:16px;color:#0fa752;margin-bottom:10px}.movie-summary[data-v-2e82f39a]{text-indent:2em;font-size:14px;color:#475669}.movie-detail-item[data-v-2e82f39a]{position:relative;padding-left:200px}.movie-detail-cover[data-v-2e82f39a]{position:absolute;top:20px;left:0}.movie-detail-cover>img[data-v-2e82f39a]{display:block;width:200px;height:300px}.movie-detail-content[data-v-2e82f39a]{position:relative;padding:20px;min-height:300px}.movie-detail-content .movie-row[data-v-2e82f39a]{margin-bottom:6px}.movie-player[data-v-2e82f39a]{display:inline-block;margin-top:10px;height:44px}",""])},537:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]},[a("div",{staticClass:"fix-container"},[t.errorMsgShow?[a("h1",{staticClass:"text-gray text-center",staticStyle:{padding:"20px 0"}},[t._v("您打开页面的姿势好像有点不同呢")])]:[a("h1",{staticClass:"movie-detail-title"},[t._v("\n\t\t\t\t"+t._s(t.subject.title)+"\n\t\t\t\t"),a("span",{staticClass:"text-small text-gray"},[t._v(t._s(t.subject.original_title)+"（"+t._s(t.subject.year)+"）")])]),t._v(" "),a("div",{staticClass:"movie-detail-item"},[a("div",{staticClass:"movie-detail-cover"},[a("img",{attrs:{src:t.subject.images.large}})]),t._v(" "),a("div",{staticClass:"movie-detail-content"},[a("div",{staticClass:"movie-row"},[t._v("\n\t\t\t\t\t\t导演：\n\t\t\t\t\t\t"),t._l(t.subject.directors,function(e){return a("a",{staticClass:"movie-tag",attrs:{href:e.alt,target:"_blank"}},[t._v(t._s(e.name))])})],2),t._v(" "),a("div",{staticClass:"movie-row"},[t._v("\n\t\t\t\t\t\t主演：\n\t\t\t\t\t\t"),t._l(t.subject.casts,function(e){return a("a",{staticClass:"movie-tag",attrs:{href:e.alt,target:"_blank"}},[t._v(t._s(e.name))])})],2),t._v(" "),a("div",{staticClass:"movie-row"},[t._v("\n\t\t\t\t\t\t类型：\n\t\t\t\t\t\t"),t._l(t.subject.genres,function(e){return a("el-tag",{staticClass:"movie-genre",attrs:{type:"success"}},[t._v(t._s(e))])})],2),t._v(" "),a("div",{staticClass:"movie-row"},[t._v("\n\t\t\t\t\t\t制片国家/地区：\n\t\t\t\t\t\t"),a("span",{staticClass:"movie-tag"},[t._v(t._s(t.subject.countries.join("/")))])]),t._v(" "),a("div",{staticClass:"movie-row"},[t._v("\n\t\t\t\t\t\t又名："),a("span",{staticClass:"movie-tag"},[t._v(t._s(t.subject.aka.join("/")))])]),t._v(" "),a("div",{staticClass:"movie-row"},[t._v("\n\t\t\t\t\t\t评分："),a("span",{staticStyle:{color:"#F7BA2A"}},[t._v(t._s(t.subject.rating.average))]),a("span",{staticClass:"movie-tag"},[t._v("/"+t._s(t.subject.rating.max))]),a("span",{staticClass:"movie-tag"},[t._v("("+t._s(t.subject.ratings_count)+"人评分)")])]),t._v(" "),a("el-tooltip",{staticClass:"movie-player",attrs:{effect:"dark",content:"前往 Bilibili 观看",placement:"bottom"}},[a("a",{attrs:{href:t.bilibiliURL,target:"_blank"}},[a("img",{staticStyle:{height:"44px"},attrs:{src:"static/images/bench.gif"}}),t._v(" "),a("img",{staticStyle:{height:"44px"},attrs:{src:"static/images/player.jpg"}})])])],1)]),t._v(" "),a("div",[a("h3",{staticClass:"movie-summary-title"},[t._v(t._s(t.subject.title)+"的剧情简介")]),t._v(" "),a("p",{staticClass:"movie-summary"},[t._v(t._s(t.subject.summary))])])]],2)])},staticRenderFns:[]}},547:function(t,e,a){var s=a(525);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(189)("726caa47",s,!0)}});